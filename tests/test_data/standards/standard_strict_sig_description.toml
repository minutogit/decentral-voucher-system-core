# tests/test_data/standards/standard_strict_sig_description.toml
#
# Dieser Standard wird verwendet, um die Validierungsregel `required_signature_description` zu testen.
# Er verlangt eine zwingend erforderliche Signatur von einer bestimmten Partei (Bob),
# die eine exakte Beschreibung enthalten muss.

[metadata]
name = "Signature Description Test Standard"
uuid = "SIG-DESC-TEST-V1-2025"
abbreviation = "SDT"
issuer_name = "VoucherCore Test Suite"
homepage_url = "https://example.com"

[template]
[template.fixed]
is_divisible = false
primary_redemption_type = "goods"
is_summable = false

[template.fixed.nominal_value]
unit = "TestUnit"

[template.fixed.collateral]
type = "None"
description = "Test collateral"
redeem_condition = "None"

[template.fixed.guarantor_info]
needed_count = 0
description = "No guarantors needed"


[validation]
# Mindestens eine Transaktion (die 'init'-Transaktion) muss existieren.
[validation.counts]
transactions = { min = 1, max = 10 }
guarantor_signatures = { min = 0, max = 0 }

# Eine Signatur von Bob ist erforderlich, und sie MUSS eine bestimmte Beschreibung haben.
# Die User-ID von Bob aus dem Test-Setup wird hier hartkodiert.
[[validation.required_signatures]]
role_description = "Official Approval by Bob"
allowed_signer_ids = ["issuer-1oB@did:key:z6Mkoim7ZGcaKdoeD41USV5gmxfiVXXiPDeYt4T9rnEB5zfM"]
required_signature_description = "Official Approval 2025"
is_mandatory = true